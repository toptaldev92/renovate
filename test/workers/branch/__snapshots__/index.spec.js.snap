// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`workers/branch ensureBranch(config) automerges successful branches 1`] = `
Object {
  "calls": Array [
    Array [
      "renovate/dummy-1.x",
      "branch-push",
    ],
  ],
  "instances": Array [
    Object {
      "branchExists": [Function],
      "commitFilesToBranch": [Function],
      "getBranchStatus": [Function],
      "getFileContent": [Function],
      "mergeBranch": [Function],
    },
  ],
}
`;

exports[`workers/branch ensureBranch(config) throws if automerge throws 1`] = `[Error: automerge failed]`;

exports[`workers/branch ensureBranch(config) throws if automerge throws 2`] = `
Object {
  "calls": Array [
    Array [
      "renovate/dummy-1.x",
      "branch-push",
    ],
  ],
  "instances": Array [
    Object {
      "branchExists": [Function],
      "commitFilesToBranch": [Function],
      "getBranchStatus": [Function],
      "getFileContent": [Function],
      "mergeBranch": [Function],
    },
  ],
}
`;

exports[`workers/branch generateConfig(branchUpgrades) uses group settings 1`] = `
Object {
  "assignees": Array [],
  "autodiscover": false,
  "automerge": "none",
  "automergeType": "pr",
  "branchName": "some-group-branchname",
  "commitMessage": "{{semanticPrefix}}Renovate {{groupName}} packages",
  "depTypes": Array [
    Object {
      "depType": "dependencies",
      "semanticPrefix": "fix: ",
    },
    "devDependencies",
    "optionalDependencies",
  ],
  "enabled": true,
  "endpoint": null,
  "githubAppId": undefined,
  "githubAppKey": null,
  "groupName": "some-group",
  "groupSlug": null,
  "ignoreDeps": Array [],
  "ignoreFuture": true,
  "ignoreUnstable": true,
  "labels": Array [],
  "lazyGrouping": true,
  "lockFileMaintenance": Object {
    "branchName": "renovate/lock-files",
    "commitMessage": "{{semanticPrefix}}Update lock file",
    "enabled": true,
    "prBody": "This PR regenerates lock files to keep them up-to-date.",
    "prTitle": "{{semanticPrefix}}Lock file maintenance",
    "recreateClosed": true,
    "schedule": "before 5am on monday",
  },
  "logFile": null,
  "logFileLevel": "debug",
  "logLevel": "info",
  "logger": Object {
    "child": [Function],
    "debug": [Function],
    "error": [Function],
    "fatal": [Function],
    "info": [Function],
    "trace": [Function],
    "warn": [Function],
  },
  "onboarding": true,
  "packageFiles": Array [],
  "packages": Array [],
  "pinVersions": true,
  "platform": "github",
  "prBody": "This {{#if isGitHub}}Pull{{else}}Merge{{/if}} Request renovates the package group \\"{{groupName}}\\".

{{#each upgrades as |upgrade|}}
-   [{{upgrade.depName}}]({{upgrade.repositoryUrl}}): from \`{{upgrade.currentVersion}}\` to \`{{upgrade.newVersion}}\`
{{/each}}

{{#unless isPin}}
### Commits

{{#each upgrades as |upgrade|}}
{{#if upgrade.releases.length}}
<details>
<summary>{{upgrade.githubName}}</summary>
{{#each upgrade.releases as |release|}}

#### {{release.version}}
{{#each release.commits as |commit|}}
-   [\`{{commit.shortSha}}\`]({{commit.url}}){{commit.message}}
{{/each}}
{{/each}}

</details>
{{/if}}
{{/each}}
{{/unless}}
<br />

This {{#if isGitHub}}PR{{else}}MR{{/if}} has been generated by [Renovate Bot](https://keylocation.sg/our-tech/renovate).",
  "prCreation": "immediate",
  "prTitle": "{{semanticPrefix}}Renovate {{groupName}} packages",
  "rebaseStalePrs": false,
  "recreateClosed": true,
  "repositories": Array [],
  "respectLatest": true,
  "reviewers": Array [],
  "schedule": Array [],
  "semanticCommits": false,
  "semanticPrefix": "chore: ",
  "separateMajorReleases": true,
  "timezone": null,
  "token": null,
  "upgrades": Array [
    Object {
      "assignees": Array [],
      "autodiscover": false,
      "automerge": "none",
      "automergeType": "pr",
      "branchName": "some-group-branchname",
      "commitMessage": "{{semanticPrefix}}Renovate {{groupName}} packages",
      "depTypes": Array [
        Object {
          "depType": "dependencies",
          "semanticPrefix": "fix: ",
        },
        "devDependencies",
        "optionalDependencies",
      ],
      "enabled": true,
      "endpoint": null,
      "githubAppId": undefined,
      "githubAppKey": null,
      "groupName": "some-group",
      "groupSlug": null,
      "ignoreDeps": Array [],
      "ignoreFuture": true,
      "ignoreUnstable": true,
      "labels": Array [],
      "lazyGrouping": true,
      "lockFileMaintenance": Object {
        "branchName": "renovate/lock-files",
        "commitMessage": "{{semanticPrefix}}Update lock file",
        "enabled": true,
        "prBody": "This PR regenerates lock files to keep them up-to-date.",
        "prTitle": "{{semanticPrefix}}Lock file maintenance",
        "recreateClosed": true,
        "schedule": "before 5am on monday",
      },
      "logFile": null,
      "logFileLevel": "debug",
      "logLevel": "info",
      "logger": Object {
        "child": [Function],
        "debug": [Function],
        "error": [Function],
        "fatal": [Function],
        "info": [Function],
        "trace": [Function],
        "warn": [Function],
      },
      "onboarding": true,
      "packageFiles": Array [],
      "packages": Array [],
      "pinVersions": true,
      "platform": "github",
      "prBody": "This {{#if isGitHub}}Pull{{else}}Merge{{/if}} Request renovates the package group \\"{{groupName}}\\".

{{#each upgrades as |upgrade|}}
-   [{{upgrade.depName}}]({{upgrade.repositoryUrl}}): from \`{{upgrade.currentVersion}}\` to \`{{upgrade.newVersion}}\`
{{/each}}

{{#unless isPin}}
### Commits

{{#each upgrades as |upgrade|}}
{{#if upgrade.releases.length}}
<details>
<summary>{{upgrade.githubName}}</summary>
{{#each upgrade.releases as |release|}}

#### {{release.version}}
{{#each release.commits as |commit|}}
-   [\`{{commit.shortSha}}\`]({{commit.url}}){{commit.message}}
{{/each}}
{{/each}}

</details>
{{/if}}
{{/each}}
{{/unless}}
<br />

This {{#if isGitHub}}PR{{else}}MR{{/if}} has been generated by [Renovate Bot](https://keylocation.sg/our-tech/renovate).",
      "prCreation": "immediate",
      "prTitle": "{{semanticPrefix}}Renovate {{groupName}} packages",
      "rebaseStalePrs": false,
      "recreateClosed": true,
      "repositories": Array [],
      "respectLatest": true,
      "reviewers": Array [],
      "schedule": Array [],
      "semanticCommits": false,
      "semanticPrefix": "chore: ",
      "separateMajorReleases": true,
      "timezone": null,
      "token": null,
      "yarnCacheFolder": "/tmp/yarn-cache",
    },
    Object {
      "assignees": Array [],
      "autodiscover": false,
      "automerge": "none",
      "automergeType": "pr",
      "branchName": "some-group-branchname",
      "commitMessage": "{{semanticPrefix}}Renovate {{groupName}} packages",
      "depTypes": Array [
        Object {
          "depType": "dependencies",
          "semanticPrefix": "fix: ",
        },
        "devDependencies",
        "optionalDependencies",
      ],
      "enabled": true,
      "endpoint": null,
      "githubAppId": undefined,
      "githubAppKey": null,
      "groupName": "some-group",
      "groupSlug": null,
      "ignoreDeps": Array [],
      "ignoreFuture": true,
      "ignoreUnstable": true,
      "labels": Array [],
      "lazyGrouping": true,
      "lockFileMaintenance": Object {
        "branchName": "renovate/lock-files",
        "commitMessage": "{{semanticPrefix}}Update lock file",
        "enabled": true,
        "prBody": "This PR regenerates lock files to keep them up-to-date.",
        "prTitle": "{{semanticPrefix}}Lock file maintenance",
        "recreateClosed": true,
        "schedule": "before 5am on monday",
      },
      "logFile": null,
      "logFileLevel": "debug",
      "logLevel": "info",
      "logger": Object {
        "child": [Function],
        "debug": [Function],
        "error": [Function],
        "fatal": [Function],
        "info": [Function],
        "trace": [Function],
        "warn": [Function],
      },
      "onboarding": true,
      "packageFiles": Array [],
      "packages": Array [],
      "pinVersions": true,
      "platform": "github",
      "prBody": "This {{#if isGitHub}}Pull{{else}}Merge{{/if}} Request renovates the package group \\"{{groupName}}\\".

{{#each upgrades as |upgrade|}}
-   [{{upgrade.depName}}]({{upgrade.repositoryUrl}}): from \`{{upgrade.currentVersion}}\` to \`{{upgrade.newVersion}}\`
{{/each}}

{{#unless isPin}}
### Commits

{{#each upgrades as |upgrade|}}
{{#if upgrade.releases.length}}
<details>
<summary>{{upgrade.githubName}}</summary>
{{#each upgrade.releases as |release|}}

#### {{release.version}}
{{#each release.commits as |commit|}}
-   [\`{{commit.shortSha}}\`]({{commit.url}}){{commit.message}}
{{/each}}
{{/each}}

</details>
{{/if}}
{{/each}}
{{/unless}}
<br />

This {{#if isGitHub}}PR{{else}}MR{{/if}} has been generated by [Renovate Bot](https://keylocation.sg/our-tech/renovate).",
      "prCreation": "immediate",
      "prTitle": "{{semanticPrefix}}Renovate {{groupName}} packages",
      "rebaseStalePrs": false,
      "recreateClosed": true,
      "repositories": Array [],
      "respectLatest": true,
      "reviewers": Array [],
      "schedule": Array [],
      "semanticCommits": false,
      "semanticPrefix": "chore: ",
      "separateMajorReleases": true,
      "timezone": null,
      "token": null,
      "yarnCacheFolder": "/tmp/yarn-cache",
    },
  ],
  "yarnCacheFolder": "/tmp/yarn-cache",
}
`;
